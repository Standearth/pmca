import"./DF2TzUtJ.js";import{d as ce,p as ue,g as E,k as de,o as be,u as fe,j as e,f as c,a as i,b as _e,h as x,c as n,i as g,r as a,l as he,e as G,t as C,s as D,m as k}from"./PJW6Ty7q.js";import{i as w,b as pe}from"./DX1Q3Ctn.js";import{e as F,i as H}from"./DTgqC2Li.js";import{s as J,a as me}from"./gAR7uIZd.js";import{l as xe,s as ke,a as ge}from"./Cjte3wHk.js";import{b as je}from"./D1i63L2J.js";function ye(N,M,s,u){e(M).length!==0&&g(s,e(s)===0?Math.max(0,e(M).length-u):e(s)-1,!0)}var Se=c('<div class="loading svelte-1b6kjxn"><div class="loading-spinner svelte-1b6kjxn"></div> <p class="svelte-1b6kjxn">Loading member stories...</p></div>'),we=c('<div class="no-stories svelte-1b6kjxn"><p class="svelte-1b6kjxn">Stories are currently unavailable. Please check back later.</p></div>'),Me=c('<button class="carousel-btn carousel-btn-prev svelte-1b6kjxn" aria-label="Previous stories"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-1b6kjxn"><path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" class="svelte-1b6kjxn"></path></svg></button> <button class="carousel-btn carousel-btn-next svelte-1b6kjxn" aria-label="Next stories"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-1b6kjxn"><path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" class="svelte-1b6kjxn"></path></svg></button>',1),Le=c('<div class="story-preview-author svelte-1b6kjxn"> </div>'),Ae=c('<div class="story-slide svelte-1b6kjxn"><div class="story-preview-card svelte-1b6kjxn"><div class="story-preview-content svelte-1b6kjxn"><p class="story-preview-text svelte-1b6kjxn"> </p> <!></div></div></div>'),Ie=c("<button></button>"),Pe=c('<div class="carousel-dots svelte-1b6kjxn"></div>'),Ce=c('<div class="carousel-wrapper svelte-1b6kjxn"><!> <div class="carousel-container svelte-1b6kjxn"><div class="carousel-track svelte-1b6kjxn"></div></div> <!></div> <div class="carousel-cta svelte-1b6kjxn"><a class="btn btn-outline svelte-1b6kjxn">Read all member stories</a></div>',1),ze=c(`<section class="stories-carousel svelte-1b6kjxn"><div class="container svelte-1b6kjxn"><div class="carousel-header svelte-1b6kjxn"><h2 class="svelte-1b6kjxn">Real Stories from Prime Members</h2> <p class="carousel-subtitle svelte-1b6kjxn">Prime members are speaking up about their experiences with Amazon. 
				These voices are driving change for a more sustainable future.</p></div> <!></div></section>`);function Ve(N,M){ue(M,!0);let s=E(de([])),u=E(0),O,_,L=E(!0);const d=3,K=150;async function Q(){try{g(L,!0);const t=await xe(),v=ke(t);g(s,v.slice(0,12),!0)}catch(t){console.error("Error loading stories for carousel:",t)}finally{g(L,!1)}}function U(t,v){if(t.length<=v)return t;const y=t.substring(0,v),I=y.lastIndexOf(" ");return I>0?y.substring(0,I)+"...":y+"..."}function V(){e(s).length!==0&&g(u,(e(u)+1)%Math.max(1,e(s).length-d+1))}function W(t){g(u,t,!0)}function A(){_&&clearInterval(_),_=setInterval(()=>{e(s).length>d&&V()},4e3)}function j(){_&&(clearInterval(_),_=null)}be(()=>(Q(),()=>{j()})),fe(()=>(e(s).length>d&&!e(L)&&A(),()=>j()));var z=ze(),X=n(z),Y=x(n(X),2);{var Z=t=>{var v=Se();i(t,v)},ee=t=>{var v=he(),y=G(v);{var I=h=>{var P=we();i(h,P)},te=h=>{var P=Ce(),B=G(P),$=n(B);{var se=r=>{var l=Me(),o=G(l);o.__click=[ye,s,u,d];var f=x(o,2);f.__click=V,k("mouseenter",o,j),k("mouseleave",o,A),k("mouseenter",f,j),k("mouseleave",f,A),i(r,l)};w($,r=>{e(s).length>d&&r(se)})}var p=x($,2),R=n(p);F(R,21,()=>e(s),H,(r,l)=>{var o=Ae(),f=n(o),m=n(f),b=n(m),oe=n(b,!0);a(b);var ie=x(b,2);{var ne=S=>{var T=Le(),ve=n(T);a(T),C(()=>D(ve,`â€“ ${e(l).name??""}`)),i(S,T)};w(ie,S=>{e(l).name&&S(ne)})}a(m),a(f),a(o),C(S=>D(oe,S),[()=>U(e(l).story,K)]),i(r,o)}),a(R),a(p),pe(p,r=>O=r,()=>O);var ae=x(p,2);{var re=r=>{var l=Pe();F(l,21,()=>Array(Math.ceil(e(s).length-d+1)),H,(o,f,m)=>{var b=Ie();b.__click=()=>W(m),J(b,"aria-label",`Go to slide ${m+1}`),C(()=>me(b,1,`carousel-dot ${e(u)===m?"active":""}`,"svelte-1b6kjxn")),i(o,b)}),a(l),i(r,l)};w(ae,r=>{e(s).length>d&&r(re)})}a(B);var q=x(B,2),le=n(q);a(q),C(()=>{ge(R,`transform: translateX(-${e(u)*(100/d)}%)`),J(le,"href",`${je??""}/stories`)}),k("mouseenter",p,j),k("mouseleave",p,A),i(h,P)};w(y,h=>{e(s).length===0?h(I):h(te,!1)},!0)}i(t,v)};w(Y,t=>{e(L)?t(Z):t(ee,!1)})}a(X),a(z),i(N,z),_e()}ce(["click"]);export{Ve as S};
